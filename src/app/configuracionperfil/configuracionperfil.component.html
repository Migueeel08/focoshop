@if (!cargando && usuario) {
  <div class="perfil-container">
    <header class="perfil-header">
      <div class="logo">
        <span class="logo-text">FOCOSHOP</span>
        <i class="fa fa-shopping-cart"></i>
      </div>
    </header>

    <main class="perfil-content">
      <div class="perfil-grid">
        <!-- PERFIL -->
        <div class="perfil-card">
          <h3>CONFIGURACIÓN DE PERFIL</h3>
          <div class="perfil-info">
            <img [src]="usuario.imagen || 'assets/img/avatar.png'" alt="avatar" class="avatar" />
            <p class="nombre">{{usuario.nombre}} {{usuario.apellido}}</p>
            <p>Email: {{usuario.email}}</p>
            <p>Teléfono: {{usuario.telefono || 'No especificado'}}</p>
          </div>
          <button (click)="editarCuenta()" class="btn-accion">EDITAR CUENTA</button>
        </div>

        <!-- DIRECCIÓN -->
        <div class="perfil-card">
          <h3>DIRECCIÓN DE ENVÍO</h3>
          <div class="perfil-info">
            <p><strong>{{usuario.nombre}} {{usuario.apellido}}</strong></p>
            <p>{{usuario.direccion || 'Sin dirección registrada'}}</p>
            <p>Phone Number: {{usuario.telefono || 'No disponible'}}</p>
            <p>Email: {{usuario.email}}</p>
          </div>
          <button (click)="editarDireccion()" class="btn-accion">EDITAR DIRECCIÓN</button>
        </div>

        <!-- MÉTODO DE PAGO -->
        <div class="perfil-card">
          <h3>MÉTODO DE PAGO</h3>
          <div class="tarjeta" [style.background]="colorTarjeta">
            <div class="tarjeta-top">
              @if (bancoTarjeta) {
                <span class="banco">{{bancoTarjeta}}</span>
              } @else {
                <span class="tipo-mini">{{tipoTarjeta}}</span>
              }
              <i class="fa fa-credit-card chip-icon"></i>
            </div>
            <p class="numero">{{numeroTarjeta}}</p>
            <div class="tarjeta-bottom">
              <div class="titular-section">
                <span class="label-small">TITULAR</span>
                <span class="titular">{{titularTarjeta}}</span>
              </div>
              <span class="tipo">{{tipoTarjeta}}</span>
            </div>
          </div>
          <button (click)="editarPago()" class="btn-accion">EDITAR MÉTODO DE PAGO</button>
        </div>
      </div>

      <button (click)="volver()" class="btn-volver">VOLVER</button>
    </main>
  </div>
} @else {
  <div class="loading">
    <div class="spinner"></div>
    <p>Cargando perfil...</p>
  </div>
}